<!-- <page-layout>
  <nav-panel-container toplBar></nav-panel-container>
  <div
    body
    tabindex="0"
    #keyboardEventsArea
    class="skin-wrapper"
    (keydown)="handleKeyboardEvent($event, 'down')"
    (keyup)="handleKeyboardEvent($event, 'up')">
    <div class="video">
      <div class="video-wrapper">
        <video-component [src]="(getVideoUrl$ | async)!"></video-component>
      </div>
    </div>
    <div class="controls">
      <div>
        <control-buttons (emitter)="events($event)"></control-buttons>
      </div>
      <div>
        <steps-button [buttons]="(steps$ | async)!" [message]="'Steps'" (emitter)="events($event, 'steps')"></steps-button>
        <steps-button [buttons]="(delayModify1$ | async)!" [message]="'Delay horizontal'" (emitter)="events($event, 'delay1')"></steps-button>
        <steps-button [buttons]="(delayModify2$ | async)!" [message]="'Delay vertical'" (emitter)="events($event, 'delay2')"></steps-button>
      </div>
      <div>
        <steps-button [buttons]="(getQuality$ | async)!" [message]="'Quality, px'" (emitter)="events($event, 'quality')"></steps-button>
        <steps-button [buttons]="(getResolution$ | async)!" [message]="'Resolution, px'" (emitter)="events($event, 'resolution')"></steps-button>
      </div>
      <div>
        <steps-button [buttons]="(getOrientation$ | async)!" [message]="'Orientation'" (emitter)="events($event, 'orientation')"></steps-button>
        <steps-button [buttons]="(getZoom$ | async)!" [message]="'Zoom'" (emitter)="events($event, 'zoom')"></steps-button>
      </div>
    </div>
  </div>
</page-layout> -->

<page-layout>
  <nav-panel-container toplBar></nav-panel-container>
  <mat-sidenav-container class="example-container" body>
      <mat-sidenav mode="side" opened>
        <div class="controls">
          <div>
            <control-buttons [message]="'Controls'" (emitter)="events($event)"></control-buttons>
          </div>
          <mat-accordion>
            <mat-expansion-panel>
              <mat-expansion-panel-header>
                <mat-panel-title>
                  Motor Settings
                </mat-panel-title>
              </mat-expansion-panel-header>
              <steps-button [buttons]="(steps$ | async)!" [message]="'Steps'" (emitter)="events($event, 'steps')"></steps-button>
              <steps-button [buttons]="(delayModify1$ | async)!" [message]="'Delay horizontal'" (emitter)="events($event, 'delay1')"></steps-button>
              <steps-button [buttons]="(delayModify2$ | async)!" [message]="'Delay vertical'" (emitter)="events($event, 'delay2')"></steps-button>
            </mat-expansion-panel>
            <mat-expansion-panel>
              <mat-expansion-panel-header>
                <mat-panel-title>
                  Video settings
                </mat-panel-title>
              </mat-expansion-panel-header>
              <steps-button [buttons]="(getQuality$ | async)!" [message]="'Quality, px'" (emitter)="events($event, 'quality')"></steps-button>
              <steps-button [buttons]="(getResolution$ | async)!" [message]="'Resolution, px'" (emitter)="events($event, 'resolution')"></steps-button>
              <steps-button [buttons]="(getOrientation$ | async)!" [message]="'Orientation'" (emitter)="events($event, 'orientation')"></steps-button>
              <steps-button [buttons]="(getZoom$ | async)!" [message]="'Zoom'" (emitter)="events($event, 'zoom')"></steps-button>
            </mat-expansion-panel>
            <mat-expansion-panel>
              <mat-expansion-panel-header>
                <mat-panel-title>
                  Targets settings
                </mat-panel-title>
              </mat-expansion-panel-header>
              <steps-button [buttons]="(targets$ | async)!" [message]="'Target'" (emitter)="events($event, 'targets')"></steps-button>
              <steps-button [buttons]="(displayTargets$ | async)!" [message]="'Display targets'" (emitter)="events($event, 'displayTargets')"></steps-button>
            </mat-expansion-panel>
          </mat-accordion>
        </div>
      </mat-sidenav>
      <mat-sidenav-content>
    <div
      tabindex="0"
      #keyboardEventsArea
      class="skin-wrapper"
      (keydown)="handleKeyboardEvent($event, 'down')"
      (keyup)="handleKeyboardEvent($event, 'up')">
      <div class="video">
        <div class="video-wrapper">
          <video-component [src]="(getVideoUrl$ | async)!"></video-component>
          @if (eventTargetsTrue  == true) { 
            <div class="overlay-text">Скорость распознавания кадра</div> 
            <!-- <targets-list [targets]="(targetsList$ | async)" (emitter)="events($event, 'targetsList')"></targets-list> -->
            <div class="overlay2"></div>
            <div class="overlay1"></div>
          }
  
        </div>
      </div>
    </div>
  </mat-sidenav-content>
    </mat-sidenav-container>
  </page-layout>
  
